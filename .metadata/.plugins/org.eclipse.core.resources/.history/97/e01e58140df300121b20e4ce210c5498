package br.usp.ime.tcc.activities.components;

import android.app.Activity;
import android.graphics.Bitmap;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.SeekBar;

public class ComponentLoader {
	private Activity activity;

	public ComponentLoader(Activity act) {
		activity = act;
	}

	public void loadButton(int buttonId,
			android.view.View.OnClickListener onClickListener) {
		Button button = (Button) activity.findViewById(buttonId);

		button.setOnClickListener(onClickListener);
	}

	public SeekBar loadSeekBar(int intensityBarId, int maxIntensity,
			int progress) {
		SeekBar seekBar = (SeekBar) activity.findViewById(intensityBarId);

		seekBar.setMax(maxIntensity);
		seekBar.setProgress(progress);

		return seekBar;
	}

	public ImageView loadImageView(int imageViewId) {
		ImageView imageView = (ImageView) activity.findViewById(imageViewId);
		return imageView;
	}

	private Bitmap scaleDownBitmap(Bitmap bitmap, int newHeight) {
		final float densityMultiplier = activity.getResources()
				.getDisplayMetrics().density;

		int h = (int) (newHeight * densityMultiplier);
		int w = (int) (h * bitmap.getWidth() / ((double) bitmap.getHeight()));

		bitmap = Bitmap.createScaledBitmap(bitmap, w, h, true);

		return bitmap;
	}
}
